# GitHub Pages éƒ¨ç½²é…ç½®æ€»ç»“

æœ¬æ–‡æ¡£è¯´æ˜äº†ä¸ºé¡¹ç›®é…ç½® GitHub Pages è‡ªåŠ¨éƒ¨ç½²æ‰€åšçš„æ‰€æœ‰æ›´æ”¹ã€‚

## ğŸ“¦ å·²æ·»åŠ çš„æ–‡ä»¶

### 1. GitHub Actions å·¥ä½œæµ
**æ–‡ä»¶**: `.github/workflows/deploy.yml`

è‡ªåŠ¨åŒ–éƒ¨ç½²å·¥ä½œæµ,åŒ…å«:
- âœ… è‡ªåŠ¨è§¦å‘: æ¯æ¬¡æ¨é€åˆ° `main` åˆ†æ”¯
- âœ… æ‰‹åŠ¨è§¦å‘: å¯åœ¨ Actions é¡µé¢æ‰‹åŠ¨è¿è¡Œ
- âœ… ä½¿ç”¨ pnpm 10.11.0
- âœ… ç¼“å­˜ä¾èµ–ä»¥åŠ å¿«æ„å»º
- âœ… æ„å»º Next.js é™æ€ç«™ç‚¹
- âœ… è‡ªåŠ¨éƒ¨ç½²åˆ° GitHub Pages

### 2. éƒ¨ç½²è„šæœ¬
**æ–‡ä»¶**: `deploy.sh`

ä¸€é”®éƒ¨ç½²è„šæœ¬,åŠŸèƒ½:
- è‡ªåŠ¨æ·»åŠ å’Œæäº¤æ›´æ”¹
- æ¨é€åˆ° GitHub
- æ˜¾ç¤ºéƒ¨ç½²è¿›åº¦é“¾æ¥
- æ˜¾ç¤ºæœ€ç»ˆè®¿é—® URL

ä½¿ç”¨æ–¹æ³•:
```bash
./deploy.sh "ä½ çš„æäº¤ä¿¡æ¯"
```

### 3. æ–‡æ¡£æ–‡ä»¶

#### `QUICKSTART.md`
å¿«é€Ÿå¼€å§‹æŒ‡å—,åŒ…å«:
- 3 æ­¥å¿«é€Ÿéƒ¨ç½²æµç¨‹
- å¸¸è§é—®é¢˜è§£ç­”
- å¿«é€Ÿæ•…éšœæ’æŸ¥

#### `DEPLOYMENT_CHECKLIST.md`
è¯¦ç»†çš„éƒ¨ç½²æ£€æŸ¥æ¸…å•,åŒ…å«:
- éƒ¨ç½²å‰æ£€æŸ¥é¡¹ (ä»£ç ã€é…ç½®ã€å†…å®¹ç­‰)
- åˆ†æ­¥éƒ¨ç½²æŒ‡å¯¼
- éƒ¨ç½²åéªŒè¯æ¸…å•
- æ€§èƒ½ã€å®‰å…¨ã€SEO æ£€æŸ¥
- å“åº”å¼å’Œå¯è®¿é—®æ€§æ£€æŸ¥

#### `Docs/github-pages-deployment.md`
å®Œæ•´çš„éƒ¨ç½²æ•™ç¨‹,åŒ…å«:
- è¯¦ç»†çš„åˆ†æ­¥è¯´æ˜
- è‡ªå®šä¹‰åŸŸåé…ç½®
- æ•…éšœæ’æŸ¥æŒ‡å—
- æ€§èƒ½ä¼˜åŒ–å»ºè®®
- å®‰å…¨æ³¨æ„äº‹é¡¹
- ç›¸å…³èµ„æºé“¾æ¥

#### `Docs/deployment-setup-summary.md` (æœ¬æ–‡ä»¶)
é…ç½®æ€»ç»“å’Œè¯´æ˜

## ğŸ”§ å·²ä¿®æ”¹çš„æ–‡ä»¶

### 1. `package.json`
æ·»åŠ äº†æ–°çš„è„šæœ¬å‘½ä»¤:
```json
{
  "scripts": {
    "export": "next build",           // å¯¼å‡ºé™æ€ç«™ç‚¹
    "preview": "pnpm build && npx serve@latest out",  // æœ¬åœ°é¢„è§ˆ
    "deploy": "pnpm build && git add . && git commit -m 'Deploy' && git push"  // å¿«é€Ÿéƒ¨ç½²
  }
}
```

### 2. `README.md`
æ·»åŠ äº†:
- ğŸš€ å¿«é€Ÿå¼€å§‹éƒ¨åˆ†
- æŒ‡å‘æ‰€æœ‰éƒ¨ç½²æ–‡æ¡£çš„é“¾æ¥
- æ›´è¯¦ç»†çš„éƒ¨ç½²è¯´æ˜

## âœ… å·²å­˜åœ¨çš„æ­£ç¡®é…ç½®

ä»¥ä¸‹é…ç½®å·²ç»æ­£ç¡®,æ”¯æŒé™æ€å¯¼å‡º:

### `next.config.js`
```javascript
{
  output: 'export',              // é™æ€å¯¼å‡ºæ¨¡å¼
  images: { unoptimized: true }, // å›¾ç‰‡ä¸ä¼˜åŒ– (é™æ€å¯¼å‡ºè¦æ±‚)
  trailingSlash: true,           // URL å°¾éƒ¨æ–œæ 
}
```

### `.gitignore`
å·²æ­£ç¡®é…ç½®,æ’é™¤:
- `node_modules/`
- `out/` (æ„å»ºè¾“å‡º)
- `.env*.local`
- å…¶ä»–ä¸´æ—¶æ–‡ä»¶

## ğŸ¯ éƒ¨ç½²æµç¨‹è¯´æ˜

### è‡ªåŠ¨éƒ¨ç½²æµç¨‹:

1. **å¼€å‘è€…æ¨é€ä»£ç **
   ```
   git push origin main
   ```

2. **GitHub Actions è§¦å‘**
   - æ£€æµ‹åˆ° main åˆ†æ”¯æœ‰æ–°æ¨é€
   - è‡ªåŠ¨å¯åŠ¨å·¥ä½œæµ

3. **æ„å»ºé˜¶æ®µ** (build job)
   - æ£€å‡ºä»£ç 
   - å®‰è£… Node.js 20
   - å®‰è£… pnpm 10.11.0
   - æ¢å¤ä¾èµ–ç¼“å­˜ (å¦‚æœ‰)
   - å®‰è£…ä¾èµ– (`pnpm install --frozen-lockfile`)
   - æ„å»ºé¡¹ç›® (`pnpm build`)
   - ä¸Šä¼  `out/` ç›®å½•ä½œä¸º artifact

4. **éƒ¨ç½²é˜¶æ®µ** (deploy job)
   - ç­‰å¾…æ„å»ºå®Œæˆ
   - ä¸‹è½½æ„å»ºäº§ç‰©
   - éƒ¨ç½²åˆ° GitHub Pages
   - æ›´æ–°ç½‘ç«™

5. **å®Œæˆ**
   - ç½‘ç«™åœ¨ 2-5 åˆ†é’Ÿå†…æ›´æ–°
   - å¯åœ¨ Actions é¡µé¢æŸ¥çœ‹è¿›åº¦

### ç›®å½•ç»“æ„:

æ„å»ºåçš„ `out/` ç›®å½•åŒ…å«:
```
out/
â”œâ”€â”€ _next/              # Next.js èµ„æº (JS, CSS)
â”‚   â””â”€â”€ static/
â”œâ”€â”€ en/                 # è‹±æ–‡é¡µé¢
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ zh/                 # ä¸­æ–‡é¡µé¢
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ fonts/              # å­—ä½“æ–‡ä»¶
â”œâ”€â”€ screenshots/        # æˆªå›¾
â”œâ”€â”€ index.html          # æ ¹é¡µé¢ (è‹±æ–‡)
â”œâ”€â”€ 404.html            # 404 é¡µé¢
â””â”€â”€ game.html           # æ¸¸æˆæ–‡ä»¶
```

## ğŸŒ URL ç»“æ„

### æ ‡å‡†ä»“åº“ (éç”¨æˆ·é¡µé¢)
ä»“åº“å: `immortalityfactory`

- ç½‘ç«™æ ¹: `https://username.github.io/immortalityfactory/`
- è‹±æ–‡ä¸»é¡µ: `https://username.github.io/immortalityfactory/`
- ä¸­æ–‡é¡µé¢: `https://username.github.io/immortalityfactory/zh`

### ç”¨æˆ·/ç»„ç»‡é¡µé¢
ä»“åº“å: `username.github.io`

- ç½‘ç«™æ ¹: `https://username.github.io/`
- è‹±æ–‡ä¸»é¡µ: `https://username.github.io/`
- ä¸­æ–‡é¡µé¢: `https://username.github.io/zh`

## ğŸ”„ æ›´æ–°æµç¨‹

### æ—¥å¸¸æ›´æ–°:
```bash
# 1. ä¿®æ”¹ä»£ç ...

# 2. ä½¿ç”¨éƒ¨ç½²è„šæœ¬
./deploy.sh "æ›´æ–°è¯´æ˜"

# æˆ–æ‰‹åŠ¨
git add .
git commit -m "æ›´æ–°è¯´æ˜"
git push
```

### é‡å¤§æ›´æ–°:
```bash
# 1. åˆ›å»ºæ–°åˆ†æ”¯
git checkout -b feature/new-feature

# 2. å¼€å‘å’Œæµ‹è¯•
pnpm dev
pnpm build

# 3. åˆå¹¶åˆ° main
git checkout main
git merge feature/new-feature

# 4. æ¨é€è§¦å‘éƒ¨ç½²
git push
```

## ğŸ› æ•…éšœæ’æŸ¥

### æ£€æŸ¥æ„å»ºçŠ¶æ€:
```bash
# æœ¬åœ°æµ‹è¯•æ„å»º
pnpm build

# æŸ¥çœ‹è¾“å‡º
ls -la out/
```

### æ£€æŸ¥éƒ¨ç½²çŠ¶æ€:
1. GitHub â†’ Actions æ ‡ç­¾é¡µ
2. ç‚¹å‡»æœ€æ–°çš„å·¥ä½œæµè¿è¡Œ
3. æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

### å¸¸è§é—®é¢˜:

#### 1. 404 é”™è¯¯
**åŸå› **: basePath é…ç½®é—®é¢˜

**è§£å†³**: å¦‚æœä»“åº“ä¸æ˜¯ `username.github.io`,æ·»åŠ :
```javascript
// next.config.js
basePath: '/ä»“åº“å',
assetPrefix: '/ä»“åº“å',
```

#### 2. æ„å»ºå¤±è´¥
**æ£€æŸ¥**:
- Actions æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯
- æœ¬åœ° `pnpm build` æ˜¯å¦æˆåŠŸ
- ä¾èµ–ç‰ˆæœ¬æ˜¯å¦å…¼å®¹

#### 3. èµ„æºåŠ è½½å¤±è´¥
**æ£€æŸ¥**:
- èµ„æºè·¯å¾„æ˜¯å¦æ­£ç¡®
- basePath é…ç½®
- æµè§ˆå™¨æ§åˆ¶å°ç½‘ç»œè¯·æ±‚

#### 4. è¯­è¨€è·¯ç”±é—®é¢˜
**ç¡®è®¤**:
- `src/i18n/routing.ts` é…ç½®
- é™æ€å¯¼å‡ºé™åˆ¶
- ç”Ÿæˆçš„ HTML æ–‡ä»¶ç»“æ„

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

å·²å®ç°çš„ä¼˜åŒ–:
- âœ… é™æ€ç”Ÿæˆ (SSG)
- âœ… ä»£ç åˆ†å‰²
- âœ… èµ„æºå‹ç¼©
- âœ… å­—ä½“ä¼˜åŒ–
- âœ… CSS å†…è”

å¯é€‰ä¼˜åŒ–:
- å›¾ç‰‡ WebP æ ¼å¼
- ä½¿ç”¨ CDN
- æ·»åŠ  Service Worker
- å¯ç”¨ Brotli å‹ç¼©

## ğŸ” å®‰å…¨è€ƒè™‘

å·²é…ç½®:
- âœ… `.gitignore` æ’é™¤æ•æ„Ÿæ–‡ä»¶
- âœ… ä¸æäº¤ `.env` æ–‡ä»¶
- âœ… ä½¿ç”¨ `--frozen-lockfile` ç¡®ä¿ä¾èµ–ä¸€è‡´

å»ºè®®:
- å®šæœŸè¿è¡Œ `pnpm audit`
- æ›´æ–°ä¾èµ–ä¿®å¤æ¼æ´
- å®¡æŸ¥ç¬¬ä¸‰æ–¹è„šæœ¬

## ğŸ“ˆ ç›‘æ§å’Œåˆ†æ

å»ºè®®æ·»åŠ :
- Google Analytics
- Sentry é”™è¯¯è·Ÿè¸ª
- Lighthouse CI
- Uptime ç›‘æ§

## ğŸ‰ ä¸‹ä¸€æ­¥

éƒ¨ç½²æˆåŠŸå:

1. **æµ‹è¯•ç½‘ç«™**
   - åŠŸèƒ½æµ‹è¯•
   - æ€§èƒ½æµ‹è¯•
   - SEO æ£€æŸ¥

2. **ä¼˜åŒ–å†…å®¹**
   - SEO å…ƒæ•°æ®
   - å›¾ç‰‡ä¼˜åŒ–
   - å†…å®¹æ›´æ–°

3. **æ¨å¹¿**
   - ç¤¾äº¤åª’ä½“
   - æœç´¢å¼•æ“æäº¤
   - ç¤¾åŒºåˆ†äº«

4. **ç»´æŠ¤**
   - å®šæœŸæ›´æ–°
   - ç›‘æ§æ€§èƒ½
   - æ”¶é›†åé¦ˆ

## ğŸ“š ç›¸å…³èµ„æº

- [GitHub Pages æ–‡æ¡£](https://docs.github.com/en/pages)
- [GitHub Actions æ–‡æ¡£](https://docs.github.com/en/actions)
- [Next.js é™æ€å¯¼å‡º](https://nextjs.org/docs/app/building-your-application/deploying/static-exports)
- [next-intl é™æ€å¯¼å‡º](https://next-intl-docs.vercel.app/docs/getting-started/app-router/with-i18n-routing#static-rendering)

## ğŸ“ å˜æ›´å†å²

- **2024-10-05**: åˆå§‹é…ç½®
  - æ·»åŠ  GitHub Actions å·¥ä½œæµ
  - åˆ›å»ºéƒ¨ç½²è„šæœ¬å’Œæ–‡æ¡£
  - æ›´æ–° README

---

**é…ç½®å®Œæˆ! é¡¹ç›®ç°åœ¨å¯ä»¥è‡ªåŠ¨éƒ¨ç½²åˆ° GitHub Pagesã€‚** ğŸ‰

